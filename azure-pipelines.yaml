# Anchore DevOps Task Dev Pipeline

trigger:
- master

pool:
  vmImage: 'ubuntu-latest'

steps:
- task: NodeTool@0
  inputs:
    versionSpec: '10.x'
  displayName: 'Install Node.js'

- task: Npm@1
  inputs:
    command: install
    workingDir: anchore-task

- task: Npm@1
  inputs:
    command: custom
    customCommand: run build
    workingDir: anchore-task

- task: Npm@1
  inputs:
    command: custom
    customCommand: run test
    workingDir: anchore-task

# - script: |
#     npm install
#     npm run build
#   workingDirectory: anchore-task
#   displayName: 'npm install and build'
#
# - script: |
#     npm install
#     npm run test
#   workingDirectory: anchore-task
#   displayName: 'npm testing'
#
